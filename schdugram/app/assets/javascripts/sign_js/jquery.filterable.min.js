(function(a){a.fn.filterableutils={isNull:function(b){if(b===undefined||b===null){return true}return false},notNull:function(b){return !this.isNull(b)}}}(jQuery));(function(b){var a=function(c,d){this.$cell=b(c);this.options=b.extend({},b.fn.filterableCell.defaults,d);this.match=null;this.init()};a.prototype={constructor:a,value:function(){return this.$cell.text()},setMatch:function(c){if(c){this.$cell.addClass("filterable-match");this.$cell.removeClass("filterable-mismatch")}else{this.$cell.addClass("filterable-mismatch");this.$cell.removeClass("filterable-match")}},isMatch:function(e){if(typeof this.options.isMatch==="function"){this.match=this.options.isMatch(this.$cell,e)}else{e=e.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g,"\\$&");e=e.replace(/\*/,".*");e=".*"+e+".*";var c=this.options.ignoreCase?"i":"";var d=new RegExp(e,c);this.match=d.test(this.value())===true}this.setMatch(this.match);return this.match},init:function(){this.$cell.addClass("filterable-cell");b.proxy(function(){this.$element.triggerHandler("init",this)},this)},destroy:function(){this.$cell.removeClass("filterable-cell filterable-match filterable-mismatch");this.$cell.removeData("fitlerableCell")}};b.fn.filterableCell=function(e){var d=arguments,c="filterableCell";return this.each(function(){var h=b(this),g=h.data(c),f=typeof e==="object"&&e;if(!g){h.data(c,(g=new a(this,f)))}if(typeof e==="string"){g[e].apply(g,Array.prototype.slice.call(d,1))}})};b.fn.filterableCell.defaults={isMatch:null}})(jQuery);(function(b){var a=function(d,c){this.$row=b(d);this.cells=[];this.options=b.extend({},b.fn.filterableRow.defaults,c);this.init()};a.prototype={constructor:a,cell:function(c){return this.cells[c]},setMatch:function(c){if(c){this.$row.addClass("filterable-match");if(this.$row.hasClass("thispage")){this.$row.show()}this.$row.removeClass("filterable-mismatch")}else{this.$row.addClass("filterable-mismatch");this.$row.hide();this.$row.removeClass("filterable-match")}},hasMismatch:function(){var c=false;b.each(this.cells,b.proxy(function(e,d){if(b.fn.filterableutils.notNull(d)&&d.match===false){c=true;return}},this));return c},filter:function(d,c){this.cells[c].isMatch(d);this.setMatch(!this.hasMismatch())},ignoredColumn:function(c){if(b.fn.filterableutils.notNull(this.options.onlyColumns)){return b.inArray(c,this.options.onlyColumns)===-1}return b.inArray(c,this.options.ignoreColumns)!==-1},init:function(){this.$row.addClass("filterable-row");this.$row.addClass("filterable-match");var c;this.$row.children("td").each(b.proxy(function(e,d){if(!this.ignoredColumn(e)){b(d).filterableCell(this.options);c=b(d).data("filterableCell")}else{c=null}this.cells.push(c)},this));b.proxy(function(){this.$row.triggerHandler("init",this)},this)},destroy:function(){this.$row.removeClass("filterable-row filterable-match filterable-mismatch");this.$row.removeData("fitlerableRow")}};b.fn.filterableRow=function(e){var d=arguments,c="filterableRow";return this.each(function(){var h=b(this),g=h.data(c),f=typeof e==="object"&&e;if(!g){h.data(c,(g=new a(this,f)))}if(typeof e==="string"){g[e].apply(g,Array.prototype.slice.call(d,1))}})};b.fn.filterableRow.defaults={}})(jQuery);(function(b){var a=function(d,c){this.$element=b(d);this.rows=null;this.options=b.extend({},b.fn.filterable.defaults,c);this.init()};a.prototype={constructor:a,ignoredColumn:function(c){if(b.fn.filterableutils.notNull(this.options.onlyColumns)){return b.inArray(c,this.options.onlyColumns)===-1}return b.inArray(c,this.options.ignoreColumns)!==-1},initRows:function(){this.rows=[];this.$element.children("tbody,*").children("tr").each(b.proxy(function(d,c){if(d!==0){b(c).filterableRow(this.options);this.rows.push(b(c).data("filterableRow"))}},this))},filter:function(d,c){if(b.fn.filterableutils.isNull(this.rows)){this.initRows()}b.each(this.rows,b.proxy(function(f,e){e.filter(d,c)},this))},initEditable:function(e,d){var c=this;b(e).editable(b.extend({send:"never",emptytext:"",value:"",title:"Enter filter for "+b(e).text(),display:function(){}},this.options.editableOptions));b(e).on("save.editable",b.proxy(function(f,g){if(g.newValue===""){b(e).removeClass("filterable-active")}else{b(e).addClass("filterable-active")}this.filter(g.newValue,d)},this))},init:function(){this.$element.addClass("filterable");this.$element.find("tr:first").first().children("td,th").each(b.proxy(function(c,d){if(!this.ignoredColumn(c)){var e;if(b.fn.filterableutils.notNull(this.options.editableSelector)){e=b(d).find(this.options.editableSelector)}else{e=b(d).wrapInner("<div />").children().first();b(e).data(b(d).data())}this.initEditable(e,c);var f=String(b(e).editable("getValue",true));if(f!==""){this.filter(f,c)}}},this));b.proxy(function(){this.$element.triggerHandler("init",this)},this)},destroy:function(){this.$element.removeClass("filterable");this.$element.removeData("fitlerable")}};b.fn.filterable=function(e){var d=arguments,c="filterable";return this.each(function(){var h=b(this),g=h.data(c),f=typeof e==="object"&&e;if(!g){h.data(c,(g=new a(this,f)))}if(typeof e==="string"){g[e].apply(g,Array.prototype.slice.call(d,1))}})};b.fn.filterable.defaults={ignoreColumns:[],onlyColumns:null,ignoreCase:true,editableOptions:null,editableSelector:null}})(jQuery);